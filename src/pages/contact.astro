---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
---

<Layout title="Contact Us - Shoreline Web Solutions | Professional Web Development in Old Lyme, CT">
	<main>
		<!-- Navigation -->
		<Navigation currentPage="contact" />

		<!-- Hero Section -->
		<section class="pt-20 pb-16 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800">
			<div class="max-w-7xl mx-auto px-6">
				<div class="text-center">
					<h1 class="hero-title text-5xl md:text-6xl font-bold text-white mb-6">
						Get In <span class="bg-gradient-to-r from-blue-200 to-cyan-200 bg-clip-text text-transparent">Touch</span>
					</h1>
					<p class="hero-subtitle text-xl text-blue-100 max-w-3xl mx-auto leading-relaxed">
						Ready to start your next project? Let's discuss how we can help bring your vision to life.
					</p>
				</div>
			</div>
		</section>

		<!-- Contact Information Section -->
		<section class="py-20 bg-white">
			<div class="max-w-7xl mx-auto px-6">
				<div class="grid lg:grid-cols-2 gap-12 items-center">
					<div class="content-text">
						<h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-8 text-center md:text-left">
							Let's Start a Conversation
						</h2>
						<p class="text-xl text-slate-600 leading-relaxed mb-8">
							Whether you're looking to launch a new website or application, redesign an existing one, or need ongoing support, we're here to help. Reach out to us and let's discuss your project.
						</p>
						
						<div class="space-y-6">
							<div class="flex items-start gap-4">
								<div class="w-12 h-12 bg-gradient-to-r from-blue-600 to-cyan-600 rounded-lg flex items-center justify-center flex-shrink-0">
									<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
									</svg>
								</div>
								<div>
									<h3 class="text-xl font-bold text-slate-900 mb-2">Email Us</h3>
									<a href="mailto:info@shorelinewebsolutions.com?subject=Inquiry from Shoreline Web Solutions Website" class="text-lg text-blue-600 hover:text-blue-700 transition-colors">
										info@shorelinewebsolutions.com
									</a>
									<p class="text-slate-600 mt-1">We typically respond within 24 hours.</p>
								</div>
							</div>
							
							<div class="flex items-start gap-4">
								<div class="w-12 h-12 bg-gradient-to-r from-teal-600 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0">
									<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
									</svg>
								</div>
								<div>
									<h3 class="text-xl font-bold text-slate-900 mb-2">Our Location</h3>
									<p class="text-lg text-slate-700">Old Lyme, CT 06371</p>
						
								</div>
							</div>
							
							<div class="flex items-start gap-4">
								<div class="w-12 h-12 bg-gradient-to-r from-cyan-600 to-teal-600 rounded-lg flex items-center justify-center flex-shrink-0">
									<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
									</svg>
								</div>
								<div>
									<h3 class="text-xl font-bold text-slate-900 mb-2">Business Hours</h3>
									<p class="text-lg text-slate-700">Monday - Friday</p>
									<p class="text-slate-600">9:00 AM - 6:00 PM EST</p>
								</div>
							</div>
						</div>
					</div>
					
					<div class="content-visual relative">
						<div class="bg-gradient-to-br from-blue-600 to-cyan-600 rounded-2xl p-8 text-white shadow-2xl">
							<h3 class="text-2xl font-bold mb-6 text-center md:text-left">Send Us a Message</h3>
							<p class="text-lg leading-relaxed mb-6">
								Fill out the form below and we'll get back to you with a personalized proposal and timeline.
							</p>
							
							<!-- Contact Form -->
							<form 
								action="https://api.web3forms.com/submit" 
								method="POST"
								class="space-y-4"
								id="contact-form"
							>
								<input 
									type="hidden" 
									name="access_key" 
									value={import.meta.env.PUBLIC_WEB3FORMS_KEY || ""}
								/>
								<input type="hidden" name="subject" value="New Contact Form Submission - Shoreline Web Solutions" />
								<input type="hidden" name="from_name" value="Shoreline Web Solutions Contact Form" />
								<input type="checkbox" name="botcheck" class="hidden" style="display: none;" />
								
								<div>
									<label for="name" class="block text-sm font-semibold mb-2 text-white">Name *</label>
									<input 
										type="text" 
										id="name" 
										name="name" 
										required
										class="w-full px-4 py-3 rounded-lg bg-white text-slate-900 border-2 border-white/30 focus:border-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-300 transition-all placeholder:text-slate-400"
										placeholder="Your name"
										aria-invalid="false"
										aria-describedby="name-error"
									/>
									<p id="name-error" class="mt-1 text-sm text-red-200 hidden" role="alert"></p>
								</div>
								
								<div>
									<label for="email" class="block text-sm font-semibold mb-2 text-white">Email *</label>
									<input 
										type="email" 
										id="email" 
										name="email" 
										required
										class="w-full px-4 py-3 rounded-lg bg-white text-slate-900 border-2 border-white/30 focus:border-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-300 transition-all placeholder:text-slate-400"
										placeholder="your.email@example.com"
										aria-invalid="false"
										aria-describedby="email-error"
									/>
									<p id="email-error" class="mt-1 text-sm text-red-200 hidden" role="alert"></p>
								</div>
								
								<div>
									<label for="phone" class="block text-sm font-semibold mb-2 text-white">Phone (Optional)</label>
									<input 
										type="tel" 
										id="phone" 
										name="phone"
										class="w-full px-4 py-3 rounded-lg bg-white text-slate-900 border-2 border-white/30 focus:border-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-300 transition-all placeholder:text-slate-400"
										placeholder="(860) 555-1234"
										aria-invalid="false"
										aria-describedby="phone-error"
									/>
									<p id="phone-error" class="mt-1 text-sm text-red-200 hidden" role="alert"></p>
								</div>
								
								<div>
									<label for="project_type" class="block text-sm font-semibold mb-2 text-white">Project Type</label>
									<select 
										id="project_type" 
										name="project_type"
										class="w-full px-4 py-3 rounded-lg bg-white text-slate-900 border-2 border-white/30 focus:border-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-300 transition-all"
									>
										<option value="">Select a project type...</option>
										<option value="custom-web-development">Custom Web Development</option>
										<option value="ecommerce">E-commerce Solutions</option>
										<option value="ai-chat-assistant">AI Chat Assistant</option>
										<option value="seo-marketing">SEO & Digital Marketing</option>
										<option value="other">Other</option>
									</select>
								</div>
								
								<div>
									<label for="message" class="block text-sm font-semibold mb-2 text-white">Message *</label>
									<textarea 
										id="message" 
										name="message" 
										required
										rows="5"
										class="w-full px-4 py-3 rounded-lg bg-white text-slate-900 border-2 border-white/30 focus:border-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-300 transition-all resize-none placeholder:text-slate-400"
										placeholder="Tell us about your project, timeline, budget, and goals..."
										aria-invalid="false"
										aria-describedby="message-error"
									></textarea>
									<p id="message-error" class="mt-1 text-sm text-red-200 hidden" role="alert"></p>
								</div>
								
								<!-- Success/Error Messages -->
								<div id="form-message" class="hidden p-4 rounded-lg text-sm font-medium"></div>
								
								<button 
									type="submit"
									class="w-full px-6 py-3 bg-white text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-cyan-300 focus:ring-offset-2 focus:ring-offset-blue-600"
									id="submit-btn"
								>
									<span id="submit-text">Send Message</span>
									<span id="submit-loading" class="hidden">Sending...</span>
								</button>
							</form>
							
							<div class="mt-6 pt-6 border-t border-white/20">
								<p class="text-sm text-center text-cyan-100 mb-3">Or send us an email directly:</p>
								<a 
									href="mailto:info@shorelinewebsolutions.com?subject=Project Inquiry - Ready to Get Started&body=Hi there,%0D%0A%0D%0AI'm interested in discussing a web development project with Shoreline Web Solutions.%0D%0A%0D%0APlease find below some details about my project:%0D%0A%0D%0AProject Overview:%0D%0A%0D%0ATimeline & Budget:%0D%0A%0D%0AGoals & Inspiration:%0D%0A%0D%0AThank you for your time, and I look forward to hearing from you.%0D%0A%0D%0ABest regards," 
									class="block w-full text-center px-6 py-2 text-white border-2 border-white/30 rounded-lg hover:bg-white/10 transition-all duration-300 text-sm"
								>
									Email Us Instead
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- What to Include Section -->
		<section class="py-20 bg-gradient-to-br from-slate-50 to-blue-50">
			<div class="max-w-7xl mx-auto px-6">
				<div class="text-center mb-16">
					<h2 class="section-title text-4xl md:text-5xl font-bold text-slate-900 mb-6">
						What to Include in Your Email
					</h2>
					<p class="text-xl text-slate-600 max-w-3xl mx-auto">
						To help us provide you with the most accurate proposal, please include the following information when you reach out.
					</p>
				</div>
				
				<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
					<div class="feature-card bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
						<div class="w-16 h-16 bg-gradient-to-r from-blue-600 to-cyan-600 rounded-lg flex items-center justify-center mb-6 mx-auto md:mx-0">
							<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
							</svg>
						</div>
						<h3 class="text-xl font-bold text-slate-900 mb-4 text-center md:text-left">Project Overview</h3>
						<p class="text-slate-600 leading-relaxed">
							Tell us about your business and what type of website or web application you need. Are you starting from scratch or redesigning an existing site?
						</p>
					</div>
					
					<div class="feature-card bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
						<div class="w-16 h-16 bg-gradient-to-r from-teal-600 to-blue-600 rounded-lg flex items-center justify-center mb-6 mx-auto md:mx-0">
							<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
							</svg>
						</div>
						<h3 class="text-xl font-bold text-slate-900 mb-4 text-center md:text-left">Timeline & Budget</h3>
						<p class="text-slate-600 leading-relaxed">
							When do you need the project completed? What's your budget range? This helps us tailor our proposal to your specific needs and constraints.
						</p>
					</div>
					
					<div class="feature-card bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
						<div class="w-16 h-16 bg-gradient-to-r from-cyan-600 to-teal-600 rounded-lg flex items-center justify-center mb-6 mx-auto md:mx-0">
							<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
							</svg>
						</div>
						<h3 class="text-xl font-bold text-slate-900 mb-4 text-center md:text-left">Goals & Inspiration</h3>
						<p class="text-slate-600 leading-relaxed">
							What do you want to achieve with your website? Do you have any design inspiration or examples of websites you like? This helps us understand your vision.
						</p>
					</div>
				</div>
			</div>
		</section>

		<!-- FAQ Section -->
		<section class="py-20 bg-white">
			<div class="max-w-4xl mx-auto px-6">
				<div class="text-center mb-16">
					<h2 class="section-title text-4xl md:text-5xl font-bold text-slate-900 mb-6">
						Frequently Asked Questions
					</h2>
					<p class="text-xl text-slate-600">
						Quick answers to common questions about our services and process.
					</p>
				</div>
				
				<div class="space-y-8">
					<div class="feature-card border-b border-slate-200 pb-6">
						<h3 class="text-xl font-bold text-slate-900 mb-3 text-center md:text-left">How long does a typical project take?</h3>
						<p class="text-slate-600 leading-relaxed">
							Project timelines vary depending on complexity and scope. Simple websites typically take 2-4 weeks, while more complex applications can take 6-12 weeks. We'll provide a detailed timeline during our consultation.
						</p>
					</div>
					
					<div class="feature-card border-b border-slate-200 pb-6">
						<h3 class="text-xl font-bold text-slate-900 mb-3 text-center md:text-left">Do you provide ongoing support?</h3>
						<p class="text-slate-600 leading-relaxed">
							Yes! We provide ongoing support for all our clients. This includes technical assistance, updates, and guidance to ensure your website continues to perform optimally.
						</p>
					</div>
					
					<div class="feature-card border-b border-slate-200 pb-6">
						<h3 class="text-xl font-bold text-slate-900 mb-3 text-center md:text-left">What's included in your pricing?</h3>
						<p class="text-slate-600 leading-relaxed">
							Our pricing includes design, development, testing, deployment, and initial training. We provide transparent pricing with no hidden fees. Each project includes a detailed scope of work and timeline.
						</p>
					</div>
					
					<div class="feature-card">
						<h3 class="text-xl font-bold text-slate-900 mb-3 text-center md:text-left">Do you work with businesses outside Connecticut?</h3>
						<p class="text-slate-600 leading-relaxed">
							While we're based in Old Lyme, CT, we work with clients across the United States. Our remote collaboration process ensures seamless communication and delivery regardless of location.
						</p>
					</div>
				</div>
			</div>
		</section>

		<!-- CTA Section -->
		<section class="py-20 bg-gradient-to-r from-slate-900 to-blue-900">
			<div class="max-w-4xl mx-auto text-center px-6">
				<div class="cta-content">
					<h2 class="text-4xl md:text-5xl font-bold text-white mb-6">
						Ready to Get Started?
					</h2>
					<p class="text-xl text-blue-200 mb-8 leading-relaxed">
						Don't wait to bring your vision to life. Send us an email today and let's discuss how we can help your business succeed online.
					</p>
					<div class="flex flex-col sm:flex-row gap-4 justify-center">
						<a href="mailto:info@shorelinewebsolutions.com?subject=Ready to Get Started - Project Inquiry&body=Hi there,%0D%0A%0D%0AI'm ready to get started with a web development project and would like to discuss how Shoreline Web Solutions can help bring my vision to life.%0D%0A%0D%0APlease find below some details about my project:%0D%0A%0D%0AProject Overview:%0D%0A%0D%0ATimeline & Budget:%0D%0A%0D%0AGoals & Inspiration:%0D%0A%0D%0AThank you for your time, and I look forward to hearing from you.%0D%0A%0D%0ABest regards," 
							 class="magnetic-button px-8 py-4 bg-white text-slate-900 font-semibold rounded-lg hover:bg-blue-50 transition-all duration-300 hover:scale-105">
							Send Us an Email
						</a>
						<a href="/services" 
							 class="magnetic-button px-8 py-4 border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-slate-900 transition-all duration-300">
							View Our Services
						</a>
					</div>
				</div>
			</div>
		</section>
	</main>
	
	<script>
		function initContactForm() {
			const form = document.getElementById('contact-form');
			if (!form) return;
			
			const formMessage = document.getElementById('form-message');
			const submitBtn = document.getElementById('submit-btn');
			const submitText = document.getElementById('submit-text');
			const submitLoading = document.getElementById('submit-loading');

			if (!formMessage || !submitBtn || !submitText || !submitLoading) return;

			// Real-time validation
			const nameInput = document.getElementById('name');
			const emailInput = document.getElementById('email');
			const phoneInput = document.getElementById('phone');
			const messageInput = document.getElementById('message');

			function validateName() {
				const value = nameInput.value.trim();
				const errorEl = document.getElementById('name-error');
				if (!value) {
					showError(nameInput, errorEl, 'Name is required');
					return false;
				} else if (value.length < 2) {
					showError(nameInput, errorEl, 'Name must be at least 2 characters');
					return false;
				} else if (/\d/.test(value)) {
					showError(nameInput, errorEl, 'Name cannot contain numbers');
					return false;
				} else if (!/^[a-zA-Z\s\-'\.]+$/.test(value)) {
					showError(nameInput, errorEl, 'Name can only contain letters, spaces, hyphens, apostrophes, and periods');
					return false;
				} else {
					showSuccess(nameInput, errorEl);
					return true;
				}
			}

			function validateEmail() {
				const value = emailInput.value.trim();
				const errorEl = document.getElementById('email-error');
				const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
				if (!value) {
					showError(emailInput, errorEl, 'Email is required');
					return false;
				} else if (!emailRegex.test(value)) {
					showError(emailInput, errorEl, 'Please enter a valid email address');
					return false;
				} else {
					showSuccess(emailInput, errorEl);
					return true;
				}
			}

			function validatePhone() {
				const value = phoneInput.value.trim();
				const errorEl = document.getElementById('phone-error');
				if (value) {
					const phoneRegex = /^[\d\s\(\)\-]+$/;
					if (!phoneRegex.test(value) || value.replace(/\D/g, '').length < 10) {
						showError(phoneInput, errorEl, 'Please enter a valid phone number');
						return false;
					} else {
						showSuccess(phoneInput, errorEl);
						return true;
					}
				} else {
					showSuccess(phoneInput, errorEl);
					return true;
				}
			}

			function validateMessage() {
				const value = messageInput.value.trim();
				const errorEl = document.getElementById('message-error');
				if (!value) {
					showError(messageInput, errorEl, 'Message is required');
					return false;
				} else if (value.length < 10) {
					showError(messageInput, errorEl, 'Message must be at least 10 characters');
					return false;
				} else {
					showSuccess(messageInput, errorEl);
					return true;
				}
			}

			function showError(input, errorEl, message) {
				input.setAttribute('aria-invalid', 'true');
				input.classList.remove('border-white/30', 'border-green-400');
				input.classList.add('border-red-400', 'ring-2', 'ring-red-300');
				if (errorEl) {
					errorEl.textContent = message;
					errorEl.classList.remove('hidden');
				}
			}

			function showSuccess(input, errorEl) {
				input.setAttribute('aria-invalid', 'false');
				input.classList.remove('border-red-400', 'ring-red-300', 'border-white/30');
				input.classList.add('border-green-400');
				if (errorEl) {
					errorEl.classList.add('hidden');
				}
			}

			// Add real-time validation listeners
			nameInput.addEventListener('blur', validateName);
			nameInput.addEventListener('input', function() {
				if (nameInput.value.trim()) validateName();
			});

			emailInput.addEventListener('blur', validateEmail);
			emailInput.addEventListener('input', function() {
				if (emailInput.value.trim()) validateEmail();
			});

			phoneInput.addEventListener('blur', validatePhone);
			phoneInput.addEventListener('input', function() {
				if (phoneInput.value.trim()) validatePhone();
			});

			messageInput.addEventListener('blur', validateMessage);
			messageInput.addEventListener('input', function() {
				if (messageInput.value.trim()) validateMessage();
			});

			form.addEventListener('submit', function(e) {
				e.preventDefault();
				
				// Validate all fields
				const isNameValid = validateName();
				const isEmailValid = validateEmail();
				const isPhoneValid = validatePhone();
				const isMessageValid = validateMessage();

				if (!isNameValid || !isEmailValid || !isPhoneValid || !isMessageValid) {
					formMessage.textContent = 'Please fix the errors above before submitting.';
					formMessage.classList.remove('hidden');
					formMessage.classList.add('bg-red-500/20', 'text-red-100', 'border', 'border-red-500/50');
					return;
				}
				
				// Hide previous messages
				formMessage.classList.add('hidden');
				formMessage.classList.remove('bg-green-500/20', 'text-green-100', 'border-green-500/50', 'bg-red-500/20', 'text-red-100', 'border-red-500/50');
				
				// Show loading state
				submitBtn.disabled = true;
				submitText.classList.add('hidden');
				submitLoading.classList.remove('hidden');
				
				const formData = new FormData(form);
				
				fetch(form.action, {
					method: 'POST',
					body: formData,
				})
				.then(function(response) {
					return response.json();
				})
				.then(function(data) {
					if (data.success) {
						// Success message
						formMessage.textContent = 'Thank you! Your message has been sent successfully. We\'ll get back to you within 24 hours.';
						formMessage.classList.remove('hidden');
						formMessage.classList.add('bg-green-500/20', 'text-green-100', 'border', 'border-green-500/50');
						
						// Reset form and validation states
						form.reset();
						[nameInput, emailInput, phoneInput, messageInput].forEach(function(input) {
							input.classList.remove('border-green-400', 'border-red-400', 'ring-red-300');
							input.classList.add('border-white/30');
							input.setAttribute('aria-invalid', 'false');
						});
					} else {
						throw new Error(data.message || 'Something went wrong');
					}
				})
				.catch(function(error) {
					// Error message
					formMessage.textContent = 'Sorry, there was an error sending your message. Please try again or email us directly.';
					formMessage.classList.remove('hidden');
					formMessage.classList.add('bg-red-500/20', 'text-red-100', 'border', 'border-red-500/50');
				})
				.finally(function() {
					// Reset button state
					submitBtn.disabled = false;
					submitText.classList.remove('hidden');
					submitLoading.classList.add('hidden');
				});
			});
		}

		// Initialize on page load
		if (document.readyState === 'loading') {
			document.addEventListener('DOMContentLoaded', initContactForm);
		} else {
			initContactForm();
		}
		
		// Re-initialize after Astro page transitions
		document.addEventListener('astro:page-load', initContactForm);
	</script>
</Layout>
